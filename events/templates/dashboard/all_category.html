{% extends 'dashboard/navigation_bar.html' %}

{% block allEvents %}
<div class="container mx-auto mt-10 mb-20 px-4" style="margin-bottom:10%;">
  <div class="bg-white shadow-lg rounded-xl overflow-hidden">
    <div class="bg-red-500 text-white text-center py-3 font-bold text-xl rounded-t-xl">
      All Categories
    </div>

    <table class="min-w-full border-collapse">
      <thead class="bg-gray-100 text-gray-700">
        <tr>
          <th class="py-3 px-6 text-left border-b">Category Name</th>
          <th class="py-3 px-6 text-left border-b">Description</th>
          <th class="py-3 px-6 text-center border-b">Update</th>
          <th class="py-3 px-6 text-center border-b">Delete</th>
        </tr>
      </thead>

      <tbody>
        {% for catg in categories %}
        <tr class="hover:bg-gray-50 transition duration-200">
          <td class="py-3 px-6 border-b text-gray-800 font-medium">{{ catg.name }}</td>
          <td class="py-3 px-6 border-b text-gray-600">{{ catg.description }}</td>
          <td class="py-3 px-6 border-b text-center">
            <a href="{% url 'update-category' catg.id %}">
              <button class="bg-cyan-500 text-white px-4 py-2 rounded-lg hover:bg-cyan-600 transition-all shadow">
                Update
              </button>
            </a>
          </td>
          <td class="py-3 px-6 border-b text-center">
            <form action="{% url 'delete-event' catg.id %}" method="post"
                  onsubmit="return confirm('Are you sure you want to delete this category?');">
              {% csrf_token %}
              <button type="submit" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-all shadow">
                Delete
              </button>
            </form>
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="4" class="py-6 text-center text-gray-500">No categories found.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% include 'footer.html' %}
{% endblock allEvents %}
